{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/liamz/Documents/open-source/everest/social/components/atoms/UserProfile.js\";\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\npadding: 0em 0.5em;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    padding: 0em 0.5em;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    flex: 1;\\n    align-self: center;\\n    align-content: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from \"react\";\nimport { search } from \"../../actions\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Button from '../Button';\nimport Link from 'next/link';\nimport styled from 'styled-components';\nimport { loggedInUser, isLoggedIn } from '../../selectors';\nimport { loadAccounts } from \"../../actions/users\";\nvar UserProfileBox = styled.input(_templateObject());\nvar Style = styled.div(_templateObject2());\n\nvar UserProfile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserProfile, _React$Component);\n\n  function UserProfile() {\n    _classCallCheck(this, UserProfile);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UserProfile).apply(this, arguments));\n  }\n\n  _createClass(UserProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.loggedIn) {\n        this.props.loadAccounts();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      return props.loggedIn ? React.createElement(LoggedIn, _extends({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      })) : React.createElement(NotLoggedIn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return UserProfile;\n}(React.Component);\n\nvar Register = styled.span(_templateObject3());\nvar Login = styled.span(_templateObject4());\n\nvar NotLoggedIn = function NotLoggedIn(_ref) {\n  var _ref$usersAvailable = _ref.usersAvailable,\n      usersAvailable = _ref$usersAvailable === void 0 ? [] : _ref$usersAvailable;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Register, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Join\"))), \"or\", React.createElement(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Login\"))));\n};\n\nvar LoggedIn = function LoggedIn(_ref2) {\n  var user = _ref2.user;\n  return React.createElement(Style, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Link, {\n    href: \"/user/\".concat(user.username),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, user.username), \" (\", user.reputation, \")\");\n};\n\nfunction mapStateToProps(state, ownProps) {\n  var loggedIn = isLoggedIn(state);\n  var user;\n\n  if (loggedIn) {\n    user = loggedInUser(state);\n  }\n\n  return {\n    loggedIn: loggedIn,\n    user: user\n  };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return bindActionCreators({\n    // loadUser,\n    loadAccounts: loadAccounts\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);","map":{"version":3,"sources":["/Users/liamz/Documents/open-source/everest/social/components/atoms/UserProfile.js"],"names":["React","useState","search","bindActionCreators","connect","Button","Link","styled","loggedInUser","isLoggedIn","loadAccounts","UserProfileBox","input","Style","div","UserProfile","props","loggedIn","Component","Register","span","Login","NotLoggedIn","usersAvailable","LoggedIn","user","username","reputation","mapStateToProps","state","ownProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { search } from \"../../actions\"\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Button from '../Button'\nimport Link from 'next/link'\n\nimport styled from 'styled-components';\nimport { loggedInUser, isLoggedIn } from '../../selectors'\nimport { loadAccounts } from \"../../actions/users\";\nconst UserProfileBox = styled.input``\n\nconst Style = styled.div`\n    flex: 1;\n    align-self: center;\n    align-content: center;\n`\n\nclass UserProfile extends React.Component {\n    componentDidMount() {\n        if(!this.props.loggedIn) {\n            this.props.loadAccounts()\n        }\n    }\n\n    render() {\n        let props = this.props\n        return props.loggedIn ? <LoggedIn {...props}/> : <NotLoggedIn/>\n    }\n}\n\nconst Register = styled.span`\n    padding: 0em 0.5em;\n`\nconst Login = styled.span`\npadding: 0em 0.5em;\n`\n\nconst NotLoggedIn = ({ usersAvailable = [] }) => {\n    return <div>\n        <Register>\n            <Link href=\"/register\">\n                <Button>\n                    Join\n                </Button>\n            </Link>\n        </Register>\n        or\n        <Login>\n            <Link href=\"/login\">\n                <Button>\n                    Login\n                </Button>\n            </Link>\n        </Login>\n    </div>\n}\n\nconst LoggedIn = ({ user }) => {\n    return <Style>\n        <Link href={`/user/${user.username}`}>{user.username}</Link> ({user.reputation})\n    </Style>\n}\n\n\nfunction mapStateToProps(state, ownProps) {\n    const loggedIn = isLoggedIn(state)\n    let user\n    if(loggedIn) {\n        user = loggedInUser(state)\n    }\n    return {\n        loggedIn,\n        user\n    }\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n    return bindActionCreators(\n        {\n            // loadUser,\n            loadAccounts\n        },\n        dispatch\n    )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile)"]},"metadata":{},"sourceType":"module"}